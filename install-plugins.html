<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>fogbow</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="http://www.fogbowcloud.org/theme/img/icons/favicon.ico" />
    <link rel="stylesheet" href="http://www.fogbowcloud.org/theme/css/bootstrap.css">
  </head>
  <body>
    <div class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <a href="../" class="navbar-brand">fogbow</a>
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <ul class="nav navbar-nav navbar-right">
          <li >
            <a href="http://www.fogbowcloud.org/rational.html">Understand it</a>
          </li>
          <li class="active">
            <a href="http://www.fogbowcloud.org/install-general.html">Install it</a>
          </li>
          <li >
            <a href="http://www.fogbowcloud.org/fogbow-cli.html">Use it</a>
          </li>
          <li><a href="#">Contact us</a></li>
        </ul>
      </div>
    </div>
     <div class="container">
      <div class="bs-docs-section">
    <div class="bs-docs-section">
    <div class="row">
      <div class="col-lg-4">
      	<br>
        <ul class="nav nav-pills nav-stacked" style="max-width: 300px;">
            <li >
            	<a href="install-general">Get started</a>
            </li>
            <li >
            	<a href="install-manager">Manager</a>
            </li>
            <li class="active">
            	<a href="install-plugins">Plugins</a>
            </li>
            <li >
            	<a href="install-rendezvous">Rendezvous</a>
            </li>
            <li >
            	<a href="install-opportunism">Opportunism</a>
            </li>
            <li >
            	<a href="install-nova-windows">Windows Nova Compute</a>
            </li>
            <li >
            	<a href="install-reverse-tunnel">Reverse Tunnel</a>
            </li>
        </ul>
      </div>
      <div class="col-lg-8 page-content">
      	<h1>Plugins</h1>
<p>The manager component was designed to be agnostic to the underlying cloud technology. There is a plugin layer between this component and the cloud, in a sense that plugins are responsible for translating fogbow requests to what the underlying cloud understands. Plugins are instantiated via reflection, and fully configured via the configuration file. Currently, fogbowcloud project make available some plugins, and you can feel free to implement new ones.</p>
<p>The plugins can be classified into two categories: <strong>Identity Plugin</strong> and <strong>Compute Plugin</strong>.</p>
<h2>Identity Plugin</h2>
<p>The Identity Plugin is responsible for getting and authenticating tokens for local and federation cloud users. The Local Identity Provider and the Federation Identity Provider must be the same when the authentication is done at the Local Cloud Identity Provider. Otherwise, you can configure different plugins for local and federation identity providers. </p>
<h3>Configure</h3>
<p>As you can see at the <a href="http://www.fogbowcloud.org/install-manager">Manager Install Guide</a>, after installation move the file <code>manager.conf.example</code> to <code>manager.conf</code>. You need to add the identity plugin contents according to plugin that will be used. These examples show the required properties for plugins already available on fogbowcloud project. You can configure different plugins for local and federation idnetity providers.</p>
<p><strong>OpenStack Idnetity Plugin</strong> </p>
<div class="highlight"><pre><span class="c"># Local Identity plugin class</span>
<span class="nv">local_identity_class</span><span class="o">=</span>org.fogbowcloud.manager.core.plugins.openstack.OpenStackIdentityPlugin

<span class="c"># Cloud identity endpoint</span>
<span class="nv">local_identity_url</span><span class="o">=</span>http://localhost:5000

<span class="c"># Federation Identity plugin class</span>
<span class="nv">federation_identity_class</span><span class="o">=</span>org.fogbowcloud.manager.core.plugins.openstack.OpenStackIdentityPlugin

<span class="c"># Cloud identity endpoint</span>
<span class="nv">federation_identity_url</span><span class="o">=</span>http://localhost:5000
</pre></div>


<p><strong>OpenNebula Idnetity Plugin</strong></p>
<div class="highlight"><pre><span class="c"># Local Identity plugin class</span>
<span class="nv">local_identity_class</span><span class="o">=</span>org.fogbowcloud.manager.core.plugins.opennebula.OpenNebulaIdentityPlugin

<span class="c"># Cloud identity endpoint</span>
<span class="nv">local_identity_url</span><span class="o">=</span>http://localhost:2633/RPC2

<span class="c"># Federation Identity plugin class</span>
<span class="nv">federation_identity_class</span><span class="o">=</span>org.fogbowcloud.manager.core.plugins.opennebula.OpenNebulaIdentityPlugin

<span class="c"># Cloud identity endpoint</span>
<span class="nv">federation_identity_url</span><span class="o">=</span>http://localhost:2633/RPC2
</pre></div>


<p><strong>X509 Plugin</strong></p>
<div class="highlight"><pre><span class="c"># Local Identity plugin class</span>
<span class="nv">local_identity_class</span><span class="o">=</span>org.fogbowcloud.manager.core.plugins.x509.X509IdentityPlugin

<span class="c"># Directory where are the certificates of Certificate Authorities (CA). They are certificates that you trust.</span>
<span class="nv">x509_ca_dir_path</span><span class="o">=</span>/path/to/ca/directory
</pre></div>


<p><strong>VOMs Plugin</strong></p>
<div class="highlight"><pre><span class="c"># Local Identity plugin class</span>
<span class="nv">local_identity_class</span><span class="o">=</span>org.fogbowcloud.manager.core.plugins.voms.VomsIdentityPlugin

<span class="c"># Directory where are the VOMS server information. </span>
<span class="c"># List of voms servers in order to issue a proxy. </span>
<span class="c"># Default : &quot;~/.glite/vomses&quot;</span>
<span class="nv">path_vomses</span><span class="o">=</span>/path/vomes

<span class="c"># Directory where are the certificates of Certificate Authorities (CA). They are certificates that you trust.</span>
<span class="c"># Default : &quot;/etc/grid-security/certificates&quot;</span>
<span class="nv">path_trust_anchors</span><span class="o">=</span>/path/trust/anchors

<span class="c"># Directory where are the certificates of VOMS that you trust.</span>
<span class="c"># Default : &quot;/etc/grid-security/vomsdir&quot;</span>
<span class="nv">path_vomsdir</span><span class="o">=</span>/path/voms/dir
</pre></div>


<h2>Compute Plugin</h2>
<p>The Compute Plugin is responsible for requesting, getting, and deleting instances at the local cloud. Different plugins can require different information depending on their implementation. Fogbow manager assumes that all cloud users have quota defined and all information at <code>manager.conf</code> file are correct. If not, the behaviour of federation may not be the expected.</p>
<h3>Configure</h3>
<p>As you can see at the <a href="http://www.fogbowcloud.org/install-manager">Manager Install Guide</a>, after installation move the file <code>manager.conf.example</code> to <code>manager.conf</code>. You need to add the compute plugin contents according to plugin that will be used. These examples show the required properties for plugins already available on fogbowcloud project. </p>
<p><strong>OpenStack Compute Plugin</strong></p>
<div class="highlight"><pre><span class="c"># Compute plugin class</span>
<span class="nv">compute_class</span><span class="o">=</span>org.fogbowcloud.manager.core.plugins.openstack.OpenStackComputePlugin

<span class="c"># Cloud OCCI endpoint</span>
<span class="nv">compute_occi_url</span><span class="o">=</span>http://localhost:8182

<span class="c"># Cloud v2 compute endpoint</span>
<span class="nv">compute_openstack_v2api_url</span><span class="o">=</span>http://localhost:8182

<span class="c"># Associating local cloud flavors to fogbow flavors</span>
<span class="c"># Small flavor</span>
<span class="nv">compute_occi_flavor_small</span><span class="o">=</span>m1-small

<span class="c"># Medium flavor</span>
<span class="nv">compute_occi_flavor_medium</span><span class="o">=</span>m1-medium

<span class="c"># Large flavor</span>
<span class="nv">compute_occi_flavor_large</span><span class="o">=</span>m1-large

<span class="c"># OS Cloud Scheme</span>
<span class="nv">compute_occi_os_scheme</span><span class="o">=</span>http://schemas.openstack.org/template/os#

<span class="c"># Instance Cloud Scheme</span>
<span class="nv">compute_occi_instance_scheme</span><span class="o">=</span>http://schemas.openstack.org/compute/instance#

<span class="c"># Resource Cloud Scheme</span>
<span class="nv">compute_occi_resource_scheme</span><span class="o">=</span>http://schemas.openstack.org/template/resource#

<span class="c"># Image (property format: compute_occi_image_image-name). You can add as many image as you want.</span>
<span class="c"># Example (this image will be referenced as linuxx86):</span>
<span class="nv">compute_occi_image_linuxx86</span><span class="o">=</span>cadf2e29-7216-4a5e-9364-cf6513d5f1fd

<span class="c"># Network ID (This property is required only if user project has more than one network available)</span>
<span class="c"># Example:</span>
<span class="nv">compute_occi_network_id</span><span class="o">=</span>ea51ed0c-0e8a-448d-8202-c79777109ffe
</pre></div>


<p><strong>OpenNebula Compute Plugin</strong></p>
<div class="highlight"><pre><span class="c"># Compute plugin class</span>
<span class="nv">compute_class</span><span class="o">=</span>org.fogbowcloud.manager.core.plugins.opennebula.OpenNebulaComputePlugin

<span class="c"># Cloud opennebula compute endpoint</span>
<span class="nv">compute_one_url</span><span class="o">=</span>http://localhost:2633/RPC2

<span class="c"># Associating properties flavors to fogbow flavors</span>
<span class="c"># Small flavor</span>
<span class="nv">compute_one_flavor_small</span><span class="o">={</span><span class="nv">mem</span><span class="o">=</span>128, <span class="nv">cpu</span><span class="o">=</span>1<span class="o">}</span>

<span class="c"># Medium flavor</span>
<span class="nv">compute_one_flavor_medium</span><span class="o">={</span><span class="nv">mem</span><span class="o">=</span>256, <span class="nv">cpu</span><span class="o">=</span>2<span class="o">}</span>

<span class="c"># Large flavor</span>
<span class="nv">compute_one_flavor_large</span><span class="o">={</span><span class="nv">mem</span><span class="o">=</span>512, <span class="nv">cpu</span><span class="o">=</span>4<span class="o">}</span>

<span class="c"># Network ID to be used for instances</span>
<span class="nv">compute_one_network_id</span><span class="o">=</span>1

<span class="c"># Image (property format: compute_one_image_image-name). You can add as many image as you want.</span>
<span class="c"># Example (this image will be referenced as linuxx86):</span>
<span class="nv">compute_one_image_linuxx86</span><span class="o">=</span>0
</pre></div>


<h2>Authorization Plugin</h2>
<p>The Authorization Plugin is responsible for getting authorization with the federation. </p>
<h3>Configure</h3>
<p>As you can see at the <a href="http://www.fogbowcloud.org/install-manager">Manager Install Guide</a>, after installation move the file <code>manager.conf.example</code> to <code>manager.conf</code>. You need to add the authorization plugin contents according to plugin that will be used. These examples show the required properties for plugins already available on fogbowcloud project. </p>
<p><strong>Allow All Authorization Plugin</strong></p>
<div class="highlight"><pre><span class="c"># Federation Authorization plugin class</span>
<span class="c"># Example </span>
<span class="nv">federation_authorization_class</span><span class="o">=</span>org.fogbowcloud.manager.core.plugins.openstack.AllowAllAuthorizationPlugin
</pre></div>
      </div>
    </div>
    </div>
      </div>
    </div>
    
    <footer class="footer">
      <div class="container">
        <div class="row">
      	  <div class="col-lg-12">
      	    <ul class="list-inline">
      	      <li class="pull-right"><a href="#top">Back to top</a></li>
      	      <li><a href="http://blog.fogbowcloud.org"target="_blank">Blog</a></li>
      	      <li><a href="https://github.com/fogbow/" target="_blank">GitHub</a></li>
      	      <li><a href="http://build.fogbowcloud.org" target="_blank">Build status</a></li>
      	    </ul>
      	    <p>Code released under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">Apache License Version 2.0</a>.</p>
      	    <p>Based on <a href="http://getbootstrap.com" target="_blank" rel="nofollow">Bootstrap</a>. Icons from <a href="http://fortawesome.github.io/Font-Awesome/" target="_blank" rel="nofollow">Font Awesome</a>. Web fonts from <a href="http://www.google.com/webfonts" target="_blank" rel="nofollow">Google</a>.</p>
      	  </div>
        </div>
      </div>

    </footer>

    <footer class="below-footer">
      <div class="container">
      <div class="row">

      <div class="col-lg-4">
          <a href="http://ec.europa.eu/index_en.htm" target="_blank" rel="nofollow"><img src="http://www.eubrazilcloudconnect.eu/sites/default/files/eu.jpg"></a>
          <a href="http://www.mcti.gov.br/" target="_blank" rel="nofollow"><img src="http://www.eubrazilcloudconnect.eu/sites/default/files/fin_min_ciencia.png"></a>
          <a href="http://www.cnpq.br/" target="_blank" rel="nofollow"><img src="http://www.eubrazilcloudconnect.eu/sites/default/files/cnpq.png"></a>
          <a href="http://www.finep.gov.br/" target="_blank" rel="nofollow"><img src="http://www.finep.gov.br/imagens/logo_novo.jpg" height="28"></a>
      </div>

      <div class="col-lg-8">
        <p>
          Fogbow is partially funded by CNPq/Brazil and the European Commission through the <a href="http://www.eubrazilcloudconnect.eu" target="_blank" rel="nofollow">EUBrazilCC</a> project, and by FINEP/Brazil through the <a href="http://www.lncc.br/departamentos/projetosconsultar.php?vMenu=&Idt_Projeto=587&projeto=3&vCabecalho=pesq&vTitulo=lncc&vDepto=&idt_responsavel=&vAno=2014&idt_linha_pesquisa=" target="_blank" rel="nofollow">CICN</a> project.
        </p>
      </div>

      </div>
    </div>
    </footer>



  </body>
</html>